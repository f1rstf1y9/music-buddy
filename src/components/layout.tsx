import { Link, Outlet, useNavigate } from "react-router-dom";
import styled from "styled-components";
import { auth } from "../firebase";

const Wrapper = styled.div`
  display: grid;
  gap: 20px;
  grid-template-columns: 1fr 4fr;
  width: 100%;
  height: 100%;
  padding: 50px 0px;
  max-width: 860px;
`;

const Menu = styled.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
  a {
    text-decoration: none;
    color: white;
  }
`;

const MenuItem = styled.div`
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 5px;
  width: 100%;
  height: 50px;
  svg {
    width: 30px;
  }
  &.log-out span {
    color: tomato;
  }
`;

export default function Layout() {
  const navigate = useNavigate();

  const onLogout = async () => {
    const ok = confirm("Are you sure you want to log out?");
    if (ok) {
      await auth.signOut();
      navigate("/login");
    }
  };

  return (
    <>
      <Wrapper>
        <Menu>
          <Link to="/">
            <MenuItem>
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M10.8166 2.57505C10.2773 2.46954 9.72266 2.46954 9.18337 2.57505C8.45273 2.71799 7.7564 3.13595 6.04301 4.19793C4.50029 5.15412 3.88402 5.54739 3.4547 6.07265C3.13752 6.46071 2.89175 6.90182 2.72879 7.37551C2.50823 8.01667 2.49861 8.74673 2.49861 10.5594V15.1145C2.49861 16.4342 3.57036 17.5041 4.89244 17.5041C5.78054 17.5041 6.50048 16.7854 6.50048 15.8989V13.6765C6.50048 11.7472 8.06727 10.1832 10 10.1832C11.9327 10.1832 13.4995 11.7472 13.4995 13.6765V15.8989C13.4995 16.7854 14.2195 17.5041 15.1076 17.5041C16.4296 17.5041 17.5014 16.4342 17.5014 15.1145V10.5594C17.5014 8.74673 17.4918 8.01667 17.2712 7.37551C17.1083 6.90182 16.8625 6.46071 16.5453 6.07265C16.116 5.54739 15.4997 5.15412 13.957 4.19793C12.2436 3.13595 11.5473 2.71799 10.8166 2.57505ZM8.89514 1.10706C9.62477 0.964313 10.3752 0.964313 11.1049 1.10706C12.1383 1.30925 13.0796 1.89291 14.6098 2.84167C14.6551 2.86981 14.7011 2.89828 14.7475 2.92706C14.789 2.95279 14.8301 2.97822 14.8706 3.00337C16.2503 3.85819 17.0994 4.38429 17.7064 5.12696C18.1356 5.65199 18.4681 6.24879 18.6885 6.88967C19.0004 7.79621 19.0002 8.79381 19 10.4148C19 10.4624 19 10.5107 19 10.5594V15.1145C19 17.2604 17.2573 19 15.1076 19C13.3918 19 12.0009 17.6116 12.0009 15.8989V13.6765C12.0009 12.5734 11.1051 11.6791 10 11.6791C8.89491 11.6791 7.99907 12.5734 7.99907 13.6765V15.8989C7.99907 17.6116 6.60818 19 4.89244 19C2.74272 19 1.00003 17.2604 1.00003 15.1145V10.5594C1.00003 10.5107 1.00002 10.4624 1.00002 10.4147C0.999751 8.79381 0.999589 7.79621 1.31145 6.88967C1.53192 6.24879 1.86443 5.65199 2.29356 5.12696C2.90059 4.38429 3.7497 3.85819 5.12937 3.00337C5.16995 2.97822 5.211 2.95279 5.25251 2.92706C5.29895 2.89828 5.34486 2.86981 5.39024 2.84167C6.92036 1.89291 7.86166 1.30925 8.89514 1.10706Z"
                  fill="#FFFFFF"
                ></path>
              </svg>
              <span>홈</span>
            </MenuItem>
          </Link>

          <Link to="/">
            <MenuItem>
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M5.29115 4.3038C5.29115 1.83478 7.49571 0 9.99995 0C12.5042 0 14.7087 1.83478 14.7087 4.3038C14.7087 6.77281 12.5042 8.60759 9.99995 8.60759C7.49571 8.60759 5.29115 6.77281 5.29115 4.3038ZM9.99995 1.51899C8.12423 1.51899 6.77814 2.85788 6.77814 4.3038C6.77814 5.74971 8.12423 7.08861 9.99995 7.08861C11.8757 7.08861 13.2218 5.74971 13.2218 4.3038C13.2218 2.85788 11.8757 1.51899 9.99995 1.51899Z"
                  fill="#FFFFFF"
                ></path>
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M4.93265 11.2085C8.04335 9.24169 11.9566 9.24169 15.0673 11.2085C16.8895 12.3606 18 14.4102 18 16.618L18 17.1319C18 17.3339 18.0001 17.4949 17.9847 17.6397C17.854 18.8728 16.9125 19.8486 15.7176 19.9842C15.5773 20.0001 15.4215 20 15.2263 20H4.77366C4.57853 20 4.4227 20.0001 4.28242 19.9842C3.08748 19.8486 2.14596 18.8728 2.01526 17.6397C1.99991 17.4949 1.99995 17.3339 2.00001 17.1318L2.00001 16.618C2.00001 14.4102 3.11054 12.3606 4.93265 11.2085ZM14.2847 12.5274C11.6543 10.8642 8.34571 10.8642 5.71529 12.5274C4.33869 13.3978 3.49833 14.9473 3.49833 16.618V17.0903C3.49833 17.3533 3.49946 17.4221 3.50469 17.4715C3.55925 17.9863 3.95169 18.3907 4.44614 18.4468C4.4935 18.4522 4.55969 18.4533 4.81397 18.4533H15.186C15.4403 18.4533 15.5065 18.4522 15.5539 18.4468C16.0483 18.3907 16.4407 17.9863 16.4953 17.4715C16.5005 17.4221 16.5017 17.3533 16.5017 17.0903V16.618C16.5017 14.9473 15.6613 13.3978 14.2847 12.5274Z"
                  fill="#FFFFFF"
                ></path>
              </svg>
              <span>프로필</span>
            </MenuItem>
          </Link>

          <Link to="/">
            <MenuItem>
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M1 5.35817C1 4.94498 1.33496 4.61001 1.74816 4.61001H8.23481C8.64801 4.61001 8.98297 4.94498 8.98297 5.35817C8.98297 5.77137 8.64801 6.10633 8.23481 6.10633H1.74816C1.33496 6.10633 1 5.77137 1 5.35817Z"
                  fill="#FFFFFF"
                ></path>
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M19 14.6415C19 15.0547 18.665 15.3896 18.2518 15.3896L11.7652 15.3896C11.352 15.3896 11.017 15.0547 11.017 14.6415C11.017 14.2283 11.352 13.8933 11.7652 13.8933L18.2518 13.8933C18.665 13.8933 19 14.2283 19 14.6415Z"
                  fill="#FFFFFF"
                ></path>
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M14.6416 2.49632C13.061 2.49632 11.7796 3.77769 11.7796 5.35834C11.7796 6.939 13.061 8.22037 14.6416 8.22037C16.2223 8.22037 17.5037 6.939 17.5037 5.35834C17.5037 3.77769 16.2223 2.49632 14.6416 2.49632ZM10.2833 5.35834C10.2833 2.9513 12.2346 1 14.6416 1C17.0487 1 19 2.9513 19 5.35834C19 7.76539 17.0487 9.71669 14.6416 9.71669C12.2346 9.71669 10.2833 7.76539 10.2833 5.35834Z"
                  fill="#FFFFFF"
                ></path>
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M5.35836 11.7796C6.93901 11.7796 8.22038 13.061 8.22038 14.6417C8.22038 16.2223 6.93901 17.5037 5.35836 17.5037C3.77771 17.5037 2.49634 16.2223 2.49634 14.6417C2.49634 13.061 3.77771 11.7796 5.35836 11.7796ZM9.7167 14.6417C9.7167 12.2346 7.76541 10.2833 5.35836 10.2833C2.95132 10.2833 1.00002 12.2346 1.00002 14.6417C1.00002 17.0487 2.95132 19 5.35836 19C7.76541 19 9.7167 17.0487 9.7167 14.6417Z"
                  fill="#FFFFFF"
                ></path>
              </svg>
              <span>설정</span>
            </MenuItem>
          </Link>

          <MenuItem onClick={onLogout} className="log-out">
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M16.4932 7.19692C16.1998 6.89905 15.7209 6.89566 15.4234 7.18937C15.126 7.48307 15.1226 7.96264 15.4159 8.26052L16.4363 9.2968L9.75559 9.2969C9.33783 9.2969 8.99917 9.63602 8.99918 10.0543C8.99918 10.4727 9.33785 10.8118 9.75561 10.8118L16.3996 10.8117L15.4235 11.7752C15.126 12.0689 15.1226 12.5484 15.4158 12.8463C15.7091 13.1442 16.1881 13.1477 16.4856 12.854L18.7754 10.5936C18.9183 10.4526 18.9994 10.2605 19.0008 10.0596C19.0022 9.85869 18.9239 9.66546 18.783 9.52241L16.4932 7.19692Z"
                fill="tomato"
              ></path>
              <path
                d="M9.86362 2.50206C10.8307 2.50206 11.1587 2.50924 11.4075 2.57988C12.0918 2.77414 12.6267 3.30971 12.8207 3.99495C12.8908 4.2424 12.8983 4.56797 12.8984 5.52061C12.8984 5.52735 12.8984 5.53411 12.8984 5.54091C12.9108 5.94482 13.242 6.26844 13.6484 6.26844C14.0548 6.26844 14.3857 5.94482 14.398 5.54091L14.3984 5.42164C14.3988 4.62013 14.399 4.06268 14.2638 3.58531C13.9279 2.39867 13.0017 1.47121 11.8166 1.13482C11.3399 0.999497 10.7832 0.999715 9.98274 1.00003L7.6943 1.00006C6.32671 1.00004 5.22439 1.00002 4.35743 1.11674C3.45732 1.23792 2.69944 1.49716 2.09753 2.09988C1.49561 2.7026 1.23672 3.46148 1.1157 4.3628C0.999141 5.23091 0.999157 6.3347 0.999177 7.7041V12.2959C0.999157 13.6653 0.999141 14.7691 1.1157 15.6372C1.23672 16.5385 1.49561 17.2974 2.09753 17.9001C2.69944 18.5028 3.45732 18.7621 4.35743 18.8833C5.2244 19 6.32672 19 7.69431 18.9999L9.98958 19C10.7837 19.0003 11.336 19.0005 11.8092 18.8673C13.0003 18.532 13.9311 17.5999 14.2659 16.4072C14.399 15.9334 14.3988 15.3804 14.3984 14.5852L14.3984 14.4669C14.3984 14.4656 14.3984 14.4643 14.3984 14.463C14.3984 14.0482 14.0626 13.712 13.6484 13.712C13.2342 13.712 12.8984 14.0482 12.8984 14.463C12.8984 14.4643 12.8984 14.4656 12.8984 14.4669C12.8984 15.4275 12.8914 15.7534 12.8219 16.0007C12.6286 16.6895 12.091 17.2277 11.4032 17.4213C11.1562 17.4909 10.8308 17.4979 9.8714 17.4979H7.74918C6.31376 17.4979 5.31265 17.4963 4.5573 17.3947C3.82352 17.2959 3.43495 17.1152 3.15819 16.838C2.88142 16.5609 2.70098 16.1718 2.60233 15.4371C2.50077 14.6807 2.49918 13.6783 2.49918 12.2409V7.75908C2.49918 6.32175 2.50077 5.31929 2.60233 4.56293C2.70098 3.82818 2.88142 3.43909 3.15819 3.16195C3.43495 2.88482 3.82352 2.70413 4.5573 2.60535C5.31265 2.50366 6.31376 2.50206 7.74918 2.50206H9.86362Z"
                fill="tomato"
              ></path>
            </svg>
            <span>로그아웃</span>
          </MenuItem>
        </Menu>
        <Outlet />
      </Wrapper>
    </>
  );
}
